<!doctype html>

<html lang="en">

<head>
  <title>The Working R Programmer</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="Thomas Mailund" />
  <meta name="generator" content="Hugo 0.40.2" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

<link rel="stylesheet" type="text/css" href="https://mailund.github.io/r-programmer-blog/css/styles.css" />
<link rel="stylesheet" href="https://cdn.rawgit.com/tonsky/FiraCode/1.205/distr/fira_code.css">

 
       <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Droid Sans" type="text/css" media="all" />
     
       <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fira Code" type="text/css" media="all" />
     

 <style>
 body {
     font-family: 'Droid Sans';
 }
 code {
    font-family: 'Fira Code'; 
 }
 </style>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-126024558-1', 'auto');
ga('send', 'pageview');
</script>

</head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://mailund.github.io/r-programmer-blog/">The Working R Programmer</a>
            </h1>

      <ul id="social-media">
        
        <li><a href="https://twitter.com/ThomasMailund"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
         
        <li><a href="https://www.linkedin.com/in/thomas-mailund-94153b1"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
         
        <li><a href="https://github.com/mailund"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a></li>
          
        <li><a href="https://www.facebook.com/mailund"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
          
        <li><a href="https://patreon.com/mailund"><i class="fab fa-patreon fa-lg" aria-hidden="true"></i></a></li>
         
        <li><a href="https://www.goodreads.com/author/show/15484380.Thomas_Mailund"><i class="fab fa-goodreads fa-lg" aria-hidden="true"></i></a></li>
        
      </ul>
      
      <p><em>Tips and tricks for serious software development in R</em></p>
      

    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="https://mailund.github.io/r-programmer-blog/post/">
                <i class="fa-li fa  fa-lg"></i><span>Posts</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://mailund.github.io/r-programmer-blog/about/">
                <i class="fa-li fa  fa-lg"></i><span>About</span>
            </a>
        </li>
        
    </ul>
</nav>

    <main>




<article>

    <h1>Blog Setup</h1>

    
        <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2018-03-02T09:48:01&#43;01:00">Mar 2, 2018</time>
        </li>
        
        
        <li>
            Categories: 
            <em>
                
                    
                    <a href="https://mailund.github.io/r-programmer-blog/categories/blog/">Blog</a>
                
            </em>
        </li>
        

        
        <li>
            <em>
                
                    
                    <a href="https://mailund.github.io/r-programmer-blog/tags/blogdown/">#Blogdown</a>
                
                    , 
                    <a href="https://mailund.github.io/r-programmer-blog/tags/hugo/">#Hugo</a>
                
            </em>
        </li>
        

        <li>3 min read</li>
    </ul>
</aside>
    

    <p>Ok, I hadn&rsquo;t planned to write any more about how the blog is set up, since that isn&rsquo;t that interesting to me and probably isn&rsquo;t to you — either you know a lot more about this than me, in which case I have nothing to teach you, or you just don&rsquo;t care, which I can relate to.</p>

<p>Anyway, it might help me to write this down while I still remember, in case I need to do it all again at some other time.</p>

<p>One of the problems I had was that GitHub wants the files it shows in its pages in one specific form while Hugo wants them in another. And <a href="https://github.com/rstudio/blogdown"><code>blogdown</code></a>, which feels like the natural solution to blogging about R, wants to play with Hugo, while I am more familiar with GitHub, so wanted to use GitHub Pages rather than learning another platform.</p>

<p>To square this circle, I tried one solution <a href="https://amber.rbind.io/blog/2016/12/19/creatingsite/">involving sub-branches</a> and another <a href="https://tclavelle.github.io/blog/blogdown_github/">using two separate repositories</a>. Both solutions <em>almost</em> worked, but with neither did I manage to change the theme away from the default blogdown one—and I want a simpler theme like the one I am using now.</p>

<p>The solution I managed stop stumble into — more through luck than skill — is simpler than either of the two above. If you add a directory called <code>docs</code> to your repository, GitHub is happy use that for your site. You just need to push the directory to GitHub and then go into Settings and select this under GitHub Pages. You cannot choose this option before you have pushed the <code>docs</code> directory, so remember to do this first.</p>

<p><img src="https://mailund.github.io/r-programmer-blog/post/2018-03-02-blog-setup/2018-03-02-github-pages-setup.png" alt="" /></p>

<p>Once that is done, you tell Hugo to put the published pages in that directory by putting</p>

<pre><code>publishDir = &quot;docs&quot;
</code></pre>

<p>in your configuration file.</p>

<p>When I build a site using Hugo, it modifies everything under <code>docs</code> and not just the new pieces, so it introduces more traffic to GitHub than I had hoped for, but it works for now, so I dare not fiddle with it much more.</p>

<p>I do have to build the site using Hugo to get the base-URL set correctly. If I build the site using</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">blogdown::build_site()</code></pre></div>
<p>The URLs are not set correctly.</p>

<p>It doesn&rsquo;t look like I can get Hugo to set the URLs correctly for images either. This is annoying since I either have to hardwire them—and then I can&rsquo;t see them when I use local hosting to check a post before committing it—or simply go without images. I don&rsquo;t even know how images are supposed to work with Hugo, to be honest, so I&rsquo;m simply suffering from my ignorance now. But that is another problem for another day.</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://mailund.github.io/r-programmer-blog/2018/03/02/purpose-of-this-blog/"><i class="fa fa-chevron-circle-left"></i> Purpose of this blog</a>
        </li>
        
        
        <li>
            <a href="https://mailund.github.io/r-programmer-blog/2018/03/02/tailr--tail-recursion-optimisation/">tailr — Tail Recursion Optimisation <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
    
        <section class="comments-block">
      <button id="show-comments" style="display: none;"><i class="fa fa-comments-o"></i> Add/View Comments</button>
</section>

<section id="disqus_thread"></section>

<script>
      (function () {
            
            
            if (window.location.hostname == "localhost")
                  return;

            var disqus_loaded = false;
            var disqus_shortname = 'r-programmer-blog';
            var disqus_button = document.getElementById("show-comments");

            disqus_button.style.display = "";
            disqus_button.addEventListener("click", disqus, false);

            function disqus() {

                  if (!disqus_loaded) {
                        disqus_loaded = true;

                        var e = document.createElement("script");
                        e.type = "text/javascript";
                        e.async = true;
                        e.src = "//" + disqus_shortname + ".disqus.com/embed.js";
                        (document.getElementsByTagName("head")[0] ||
                              document.getElementsByTagName("body")[0])
                        .appendChild(e);

                        
                        document.getElementById("show-comments").style.display = "none";
                  }
            }

            
            var hash = window.location.hash.substr(1);
            if (hash.length > 8) {
                  if (hash.substring(0, 8) == "comment-") {
                        disqus();
                  }
            }

            
            if (/bot|google|baidu|bing|msn|duckduckgo|slurp|yandex/i.test(navigator.userAgent)) {
                  disqus();
            }
      })();
</script>
    





</main>
    <footer>
        <h6>Copyright &copy; 2018 - Thomas Mailund | 
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://mailund.github.io/r-programmer-blog/index.xml">Subscribe</a></h6>
    </footer>
</div>
<script src="https://mailund.github.io/r-programmer-blog/js/scripts.js"></script>
</body>
<div id="amzn-assoc-ad-04956520-8388-43ab-9b6e-fbe758d208f8"></div>
<script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=04956520-8388-43ab-9b6e-fbe758d208f8"></script>

</html>